<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
  <title>An Gramad&oacute;ir : Text Editors</title>
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="description" content="An Gramad&oacute;ir: integration into text editors">
  <meta name="keywords" content="grammar checking, Gaeilge, Irish language">
  <meta name="author" content="Kevin P. Scannell">
  <link rel="stylesheet" href="../kps.css" type="text/css">
</head>

<body>
<div class="content">
<h1>An Gramad&oacute;ir:<br>
Emacs/Vim Support</h1>

<hr>
<h2>Emacs</h2>
<p>
Martin Gregory has kindly contributed an Emacs interface 
to <i lang="ga">An Gramadóir</i> which is very easy to use.
Here are his instructions (the file <i>gramadoir.el</i> is
included in the distribution as of version 0.3):
</p>


<p>
"The Emacs interface to <i lang="ga">An Gramadóir</i> allows you to run <i lang="ga">An Gramadóir</i>
from within an Emacs session and navigate to the locations in the
input files where <i lang="ga">An Gramadóir</i> found problems. The interface is
similar to that of the compile or grep commands in Emacs.
</p>


<h3>INSTALLING THE INTERFACE:</h3>

<p>
Put gramadoir.el in your emacs site lisp directory, if you don't have
one, put it it ~/lisp or some other directory of your choice and put
the following line in your ~/.emacs file<br>
<pre>
   (load-file "/where/you/put/gramadoir.el")
</pre>
If you are an experienced Emacs user, you'll probably want to auto
load the file.
</p>


<h3>USING THE INTERFACE:</h3>

<p>
The interface allows you to specify files in two different ways:
</p>
<ul>
<li>using the command gramadoir-check-files which prompts for a space
separated list of files, without file completion;
<li>from a dired window using the gramadoir-dired command. This behaves
like other dired commands: either all selected files are processed
or, if no file is selected, the file listed on the current
line is processed.
</ul>

<p>
After running one of the above commands, the output of <i lang="ga">An Gramadóir</i> is
written to a new buffer which is displayed in a separate window. Using
the gramadoir-next-message command positions the cursor at the
location of the first error in the first file. Subsequent use of this
command takes you to the locations of subsequent errors. If you
reposition the cursor in the output buffer, the command takes you to
the location of the next error after that position.
</p>


<h3>CUSTOMISATION:</h3>

<p>
For convenience, you can bind the three commands to keys. These need
to be global definitions, for example:
</p>

<pre>
   (global-set-key "\C-cg" 'gramadoir-check-files)
   (global-set-key "\C-cd" 'gramadoir-dired)
   (global-set-key [f3] 'gramadoir-next-message)
</pre>


<p>
If you installed <i lang="ga">An Gramadóir</i> anywhere other than in /usr/bin
you need to tell the interface where to look for it by putting a line
similar to the following:<br>
<pre>
   (setq gramadoir-program-path "/usr/bin/gram-xx.pl")
</pre>
in your ~/.emacs, substituting the appropriate path for "/usr/bin"
and language code for "xx".
</p>

<p>
Finally, the interface highlights the error text both in the output
buffer and in the buffer of the original file. If you prefer not to
highlight the text in the original file, add this:<br>
<pre>
   (setq gramadoir-highlight-text nil)
</pre>
to your ~/.emacs."
</p>
<hr>
<h2>Vim</h2>
<p>
I've written a script which emulates the behavior of Martin's
Emacs interface within Vim.  It will be included in future 
distributions, or you can download it directly from
<a href="http://vim.sourceforge.net/scripts/script.php?script_id=802">
Vim online</a>.     Instructions:
<ol>
<li>put <i>gramadoir.vim</i> in ~/.vim/plugin.  For languages other
than Irish, you'll need to change the "gram-ga.pl" around line 30 to
the appropriate script name.

<li>put the following lines in your ~/.vimrc file
<pre>
map &lt;F3&gt; &lt;Plug&gt;Gr
map &lt;F4&gt; &lt;Plug&gt;Neamh
map &lt;F5&gt; &lt;Plug&gt;Amach
</pre>
or choose different hot keys if you want.

<li>open the text file to be checked in Vim.

<li>to check its grammar, press F3; a second buffer,
containing the messages from <i lang="ga">An Gramadóir</i>,
will open at the bottom of the screen.  The cursor
will move to the first error (which is also highlighted in red if you
are using a suitable color terminal).

<li>Each successive use of F3 moves to the next error
(in both windows, in parallel).

<li>If the current error is a single word (unknown, misspelled, rare,
non-standard, etc.), you can insert it into your <code>.neamhshuim</code> 
(ignore) file by pressing F4.

<li>Pressing F5 exits the grammar checker and resumes normal editing.

<li>Notes: you are free to make edits, corrections, etc. to the 
main buffer while running the grammar checker.  The last error
displayed is tracked according to the cursor position in the 
error buffer, so whenever you press F3 it will correctly take you 
to the next error.  This also means that you can jump to any
particular error you'd like: go into the error buffer (with Crtl-w-w),
move the cursor to just before the desired error, press F3.
</ol>

</p>

<hr>
<em>© Cóipcheart/Copyright 2003 Kevin P. Scannell</em><br><br>
</ul>
</div>
<div class="navigation">
<a href = "index.html">Home</a><br>
<a href = "sios.html">Download</a><br>
<a href = "sonrai.html">Details</a><br>
<a href = "cuidiu.html">Contributing</a><br>
<a href = "iompar.html">Languages</a><br>
<a href = "stair.html">History</a><br>
<a href = "sampla.html">Sampler</a><br>
<a href = "foirm.html">Web Interface</a><br>
Editors<br>
<a href = "/nlp.html">Projects</a><br>
<p class="centered">
<img src="gram.jpg" alt="dictionary excerpt" height="160" width="125">
</p>
</div>
</body>
</html>
